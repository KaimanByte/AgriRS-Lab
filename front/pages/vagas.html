<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vagas - AgriRSlab</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles/StyleVagas.css">
    <link rel="stylesheet" href="../styles/StyleHeader.css">
    <link rel="stylesheet" href="../styles/StyleFooter.css">
</head>
<body>
    <div id="footer-brasil">
        <div id="barra-brasil" style="background:#7F7F7F; height: 20px; padding:0 0 0 10px;display:block;">
            <ul id="menu-barra-temp" style="list-style:none;">
                <li
                    style="display:inline; float:left;padding-right:10px; margin-right:10px; border-right:1px solid #EDEDED">
                    <a href="http://brasil.gov.br"
                        style="font-family:sans,sans-serif; text-decoration:none; color:white;">Portal do Governo
                        Brasileiro</a>
                </li>
                <li>
                    <a style="font-family:sans,sans-serif; text-decoration:none; color:white;"
                        href="http://epwg.governoeletronico.gov.br/barra/atualize.html">Atualize sua Barra de
                        Governo</a>
                </li>
            </ul>
        </div>
    </div>
    <header>
    <nav>
      <img src="../imagens/Header/AgriRSlab.png" id="Agriheader">

      <!-- üîπ Bot√£o do menu hamb√∫rguer adicionado -->
      <button id="menu-toggle" aria-label="Abrir menu">‚ò∞ Menu</button>

      <ul id="nav-links">
        <li><a href="index.html">In√≠cio</a></li>
        <li><a href="sobre.html">Sobre</a></li>
        <li><a href="vagas.html">Vagas</a></li>
        <li><a href="membros.html">Membros</a></li>
        <li><a href="projetos.html">Projetos</a></li>
        <li><a href="noticias.html">Not√≠cias</a></li>
        <li><a href="publicacoes.html" class="ativo">Publica√ß√µes</a></li>
        <li><a href="contato.html">Contato</a></li>
      </ul>
      <img src="../imagens/Header/Inpe.png" id="Inpeheader">
    </nav>
  </header>

    <div id="imagemFundo">Vagas</div>
    </header>

    <main>
    <section class="pesquisa">
        <h2 class="titulo-academico">Oportunidades Dispon√≠veis</h2>
        <div class="pesquisa2">
            <input type="text" placeholder="Pesquise">
            <button class="search-btn" aria-label="Pesquisar">
        <svg xmlns="http://www.w3.org/2000/svg" 
             viewBox="0 0 24 24" fill="none" 
             stroke="black" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        </button>
        </div>
    </section>

    <section class="cards-container">
  <!-- Cards ser√£o adicionados aqui pelo JS -->
</section>

    <footer>
        <div id="footer-brasil"></div>
        <block>
            <div id="divOne">
                <div id="apareceNoFooter">
                  <a title="AgriRSlab" href="index.html"><img src="../imagens/Footer/AgriRSlab.png" id="AgriRSfooter" alt="AgriRSlab"/></a>
                  <div class="titulo24" id="aparece">AgriRSlab</div>
                </div>
                <div id="textolado">
                  <div class="titulo24" id="apaga">AgriRSlab</div>
                  <div class="texto16">
                    Laborat√≥rio de Sensoriamento Remoto Agr√≠cola
                  </div>
                </div>
              </div>

            <div id="divTwo">
                <div>
                    <img id="iconeMapa" src="../imagens/Footer/iconeMapa.png" alt="Mapa">
                    <span class="texto16">Av. dos Astronautos, 1,758 - S√£o Jos√© dos Campos - SP, 12227-010</span>
                </div>
                <div>
                    <img id="iconeTelefone" src="../imagens/Footer/iconeTelefone.png" alt="Telefone">
                    <span class="texto16">+55 (12) 3208-6000</span>
                </div>
            </div>

            <div id="redesSociais">
                <a target="_blank" title="X/Twitter" href="https://x.com/agrirs_lab?lang=pt">
                    <img src="../imagens/Footer/xIcone.png" alt="X/Twitter">
                </a>
                <a target="_blank" title="LinkedIn" href="https://www.linkedin.com/company/agrirslab">
                    <img src="../imagens/Footer/linkedinIcone.png" alt="LinkedIn">
                </a>
                <a target="_blank" title="GitHub" href="https://github.com/agrirslab">
                    <img src="../imagens/Footer/githubIcone.png" alt="GitHub">
                </a>
                <a target="_blank" title="ResearchGate" href="https://www.researchgate.net/lab/AgriRS-Lab-Ieda-Sanches">
                    <img src="../imagens/Footer/researchGateIcone.png" alt="ResearchGate">
                </a>
            </div>
        </block>

        <div class="foraLinha">
            <div class="linha"></div>
        </div>

        <block>
            <div id="divThree">
                <div class="titulo24">Sobre</div>
                <ul class="texto16">
                    <li><a target="_blank" href="Sobre.html">O AgriRSlab</a></li>
                    <li><a target="_blank" href="membros.html">Nossa equipe</a></li>
                    <li><a target="_blank" href="membros.html">Colaboradores</a></li>
                    <li><a target="_blank" href="vagas.html">Oportunidades</a></li>
                </ul>
            </div>
        </block>

        <div class="foraLinha">
            <div class="linha"></div>
        </div>

        <block>
            <div id="divFour">
                <div class="titulo24">Atua√ß√£o</div>
                <ul class="texto16">
                    <li><a target="_blank" href="publicacoes.html">√Årea de Pesquisa</a></li>
                    <li><a target="_blank" href="projetos.html">Projetos</a></li>
                    <li><a target="_blank" href="contato.html">Servi√ßos</a></li>
                    <li><a target="_blank" href="Sobre.html">Parcerias</a></li>
                </ul>
            </div>
        </block>

        <div class="foraLinha">
            <div class="linha"></div>
        </div>

        <block>
            <div id="divFive">
                <div class="titulo24">Colaboradores</div>
                <div>
                    <a target="_blank" title="Inpe" href="https://www.gov.br/inpe/pt-br">
                        <img src="../imagens/Footer/Inpe.png" id="InpeFooter" alt="Inpe">
                    </a>
                    <a target="_blank" title="FAPESP" href="https://fapesp.br">
                        <img src="../imagens/Footer/FAPESP.png" id="FapespFooter" alt="FAPESP">
                    </a>
                    <a target="_blank" title="Brazil Data Cube" href="https://data.inpe.br/bdc">
                        <img src="../imagens/Footer/Bdc.png" id="BdcFooter" alt="Brasil Data Cube">
                    </a>
                </div>
                <div id="colaboradores2">
                    <a target="_blank" title="CAPES" href="https://www.gov.br/capes/pt-br">
                        <img src="../imagens/Footer/CAPES.png" id="CapesFooter" alt="CAPES">
                    </a>
                    <a target="_blank" title="CNPq" href="https://www.gov.br/cnpq/pt-br">
                        <img src="../imagens/Footer/CNPq.png" id="CnpqFooter" alt="CNPq">
                    </a>
                    <a target="_blank" title="Conab" href="https://www.gov.br/conab/pt-br">
                        <img src="../imagens/Footer/Conab.png" id="ConabFooter" alt="Conab">
                    </a>
                </div>
            </div>
        </block>
    </footer>
<!-- ========================================= -->
<!-- üîÑ SCRIPT 1 ‚Äî TRADU√á√ÉO (INTERNACIONALIZA√á√ÉO) -->
<!-- ========================================= -->
<script>
// üîÑ Dicion√°rio de tradu√ß√µes
const traducoes = {
  pt: {
    vagas: "Vagas",
    oportunidades: "Oportunidades Dispon√≠veis",
    pesquise: "Pesquise",
    pesquisar: "Pesquisar",
    menu: ["In√≠cio", "Sobre", "Vagas", "Membros", "Projetos", "Not√≠cias", "Publica√ß√µes", "Contato"],
    footer: {
      sobre: "Sobre",
      sobreLinks: ["O AgriRSlab", "Nossa equipe", "Colaboradores", "Oportunidades"],
      atuacao: "Atua√ß√£o",
      atuacaoLinks: ["√Årea de Pesquisa", "Projetos", "Servi√ßos", "Parcerias"],
      colaboradores: "Colaboradores",
      descricao: "Laborat√≥rio de Sensoriamento Remoto Agr√≠cola"
    }
  },
  en: {
    vagas: "Opportunities",
    oportunidades: "Available Positions",
    pesquise: "Search",
    pesquisar: "Search",
    menu: ["Home", "About", "Opportunities", "Members", "Projects", "News", "Publications", "Contact"],
    footer: {
      sobre: "About",
      sobreLinks: ["AgriRSlab", "Our team", "Collaborators", "Opportunities"],
      atuacao: "Activities",
      atuacaoLinks: ["Research Area", "Projects", "Services", "Partnerships"],
      colaboradores: "Collaborators",
      descricao: "Agricultural Remote Sensing Laboratory"
    }
  }
};

// üîÅ Fun√ß√£o para aplicar tradu√ß√£o
function mudarIdioma(idioma) {
  localStorage.setItem("idiomaSelecionado", idioma);
  const t = traducoes[idioma];

  // P√°gina principal
  const titulo = document.querySelector("#imagemFundo");
  if (titulo) titulo.textContent = t.vagas;

  const subtitulo = document.querySelector(".titulo-academico");
  if (subtitulo) subtitulo.textContent = t.oportunidades;

  const input = document.querySelector(".pesquisa2 input");
  if (input) input.placeholder = t.pesquise;

  const botao = document.querySelector(".search-btn");
  if (botao) botao.title = t.pesquisar;

  // Header
  const navItems = document.querySelectorAll("#nav-links li a");
  navItems.forEach((item, i) => {
    if (t.menu[i]) item.textContent = t.menu[i];
  });

  // Footer
  document.querySelector("#divThree .titulo24").textContent = t.footer.sobre;
  document.querySelector("#divFour .titulo24").textContent = t.footer.atuacao;
  document.querySelector("#divFive .titulo24").textContent = t.footer.colaboradores;

  document.querySelectorAll("#divThree ul li a").forEach((link, i) => {
    if (t.footer.sobreLinks[i]) link.textContent = t.footer.sobreLinks[i];
  });

  document.querySelectorAll("#divFour ul li a").forEach((link, i) => {
    if (t.footer.atuacaoLinks[i]) link.textContent = t.footer.atuacaoLinks[i];
  });

  const descricaoFooter = document.querySelector("#textolado .texto16");
  if (descricaoFooter) descricaoFooter.textContent = t.footer.descricao;

  // Recarregar cards no idioma selecionado
  if (typeof carregarOportunidades === "function") carregarOportunidades();
}

// üåê Criar seletor de idioma automaticamente
document.addEventListener("DOMContentLoaded", () => {
  const seletor = document.createElement("select");
  seletor.innerHTML = `
    <option value="pt">üáßüá∑ Portugu√™s</option>
    <option value="en">üá∫üá∏ English</option>
  `;
  seletor.style.cssText = "position:fixed;top:10px;right:15px;padding:4px;border-radius:6px;";
  seletor.value = localStorage.getItem("idiomaSelecionado") || "pt";
  seletor.addEventListener("change", e => mudarIdioma(e.target.value));
  document.body.appendChild(seletor);

  mudarIdioma(seletor.value);
});
</script>

<!-- ============================== -->
<!-- üçî SCRIPT 2 ‚Äî MENU HAMB√öRGUER -->
<!-- ============================== -->
<script>
const toggle = document.getElementById("menu-toggle");
const navLinks = document.getElementById("nav-links");
const navItems = document.querySelectorAll("#nav-links a");

toggle.addEventListener("click", () => {
  navLinks.classList.toggle("ativo");
});

navItems.forEach(item => {
  item.addEventListener("click", () => {
    navLinks.classList.remove("ativo");
  });
});
</script>

<!-- =============================== -->
<!-- üìå SCRIPT 3 ‚Äî CARREGAR CARDS    -->
<!-- =============================== -->
<script>
const API_URL = "http://localhost:3030/oportunidades";

function criarCard(o) {
  const card = document.createElement('div');
  card.classList.add('card');

  const requisitosHTML = o.requisitos
    ? `<h4>Requisitos:</h4><ul>${o.requisitos}</ul>`
    : "";

  const processoHTML = o.processo_selecao
    ? `<h4>Processo de Sele√ß√£o:</h4><ol>${o.processo_selecao}</ol>`
    : "";

  const prazoHTML = o.prazo
    ? `<p><span class="prazo-verde">Prazo:</span> ${o.prazo}</p>`
    : "";

  card.innerHTML = `
    <div class="card-header">
      <h3>${o.titulo || "Sem t√≠tulo"}</h3>
    </div>
    <div class="card-body">
      <p>${o.descricao || ""}</p>
      ${requisitosHTML}
      ${processoHTML}
      ${prazoHTML}
      <div class="centro">
        <a href="mailto:${o.contato}" class="card-button">
          Contato: ${o.contato || "N√£o informado"}
        </a>
      </div>
    </div>
  `;

  return card;
}

async function carregarOportunidades() {
  try {
    const response = await fetch(API_URL);
    const oportunidades = await response.json();

    const container = document.querySelector('.cards-container');
    container.innerHTML = '';

    oportunidades.forEach(o => {
      // Transformar listas em <li>
      o.requisitos = o.requisitos
        ? o.requisitos.split(';').map(i => `<li>${i.trim()}</li>`).join('')
        : "";

      o.processo_selecao = o.processo_selecao
        ? o.processo_selecao.split(';').map(i => `<li>${i.trim()}</li>`).join('')
        : "";

      const card = criarCard(o);
      container.appendChild(card);
    });
  } catch (error) {
    console.error("Erro ao carregar oportunidades:", error);
  }
}

document.addEventListener("DOMContentLoaded", carregarOportunidades);
</script>

<!-- ================================ -->
<!-- üîç SCRIPT 4 ‚Äî FILTRO DE BUSCA   -->
<!-- ================================ -->
<script>
function removerAcentos(txt) {
  return txt.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
}

const campoBusca = document.querySelector('input[placeholder="Pesquise"]');
const botaoBusca = document.querySelector(".search-btn");

function filtrarCards() {
  const termo = removerAcentos(campoBusca.value.trim());
  const cards = document.querySelectorAll(".card");

  cards.forEach(card => {
    const titulo = removerAcentos(card.querySelector("h3").textContent);
    const descricao = removerAcentos(card.querySelector("p").textContent);

    const match = titulo.includes(termo) || descricao.includes(termo);
    card.style.display = match || termo === "" ? "block" : "none";
  });
}

botaoBusca.addEventListener("click", filtrarCards);

campoBusca.addEventListener("keydown", e => {
  if (e.key === "Enter") {
    e.preventDefault();
    filtrarCards();
  }
});
</script>

    

    <script defer src="https://barra.brasil.gov.br/barra.js" type="text/javascript"></script>
</body>
</html>