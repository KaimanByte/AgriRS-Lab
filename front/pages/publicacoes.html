<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Publica√ß√µes - AgriRSlab</title>
    <link rel="stylesheet" href="../styles/StylePublicacoes.css" />
    <link rel="stylesheet" href="../styles/StyleHeader.css" />
    <link rel="stylesheet" href="../styles/StyleFooter.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div id="footer-brasil">
      <div
        id="barra-brasil"
        style="
          background: #7f7f7f;
          height: 20px;
          padding: 0 0 0 10px;
          display: block;
        "
      >
        <ul id="menu-barra-temp" style="list-style: none">
          <li
            style="
              display: inline;
              float: left;
              padding-right: 10px;
              margin-right: 10px;
              border-right: 1px solid #ededed;
            "
          >
            <a
              href="http://brasil.gov.br"
              style="
                font-family: sans, sans-serif;
                text-decoration: none;
                color: white;
              "
              >Portal do Governo Brasileiro</a
            >
          </li>
          <li>
            <a
              style="
                font-family: sans, sans-serif;
                text-decoration: none;
                color: white;
              "
              href="http://epwg.governoeletronico.gov.br/barra/atualize.html"
              >Atualize sua Barra de Governo</a
            >
          </li>
        </ul>
      </div>
    </div>
    <header>
      <nav>
        <a title="AgriRSlab" href="index.html"><img src="../imagens/Header/AgriRSlab.png" id="Agriheader"></a>

      <!-- üîπ Bot√£o do menu hamb√∫rguer adicionado -->
      <button id="menu-toggle" aria-label="Abrir menu">‚ò∞ Menu</button>

      <ul id="nav-links">
        <li><a href="index.html">In√≠cio</a></li>
        <li><a href="sobre.html">Sobre</a></li>
        <li><a href="vagas.html">Vagas</a></li>
        <li><a href="membros.html">Membros</a></li>
        <li><a href="projetos.html">Projetos</a></li>
        <li><a href="noticias.html">Not√≠cias</a></li>
        <li><a href="publicacoes.html" class="ativo">Publica√ß√µes</a></li>
        <li><a href="contato.html">Contato</a></li>
      </ul>
<<<<<<< HEAD
      <a title="Inpe" href="https://www.gov.br/inpe/pt-br"><img src="../imagens/Header/Inpe.png" id="Inpeheader"></a>
      </nav>
    </header>

    <div id="imagemFundo">Publica√ß√µes</div>

    <!-- Barra de pesquisa e filtros -->
    <section class="pesquisa">
      <h2 class="titulo-academico">Acompanhe nossos trabalhos acad√™micos</h2>
      <div class="pesquisa2">
        <input type="text" placeholder="Pesquise" />
        <button class="search-btn" aria-label="Pesquisar">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="black"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
        </button>
      </div>
    </section>
    <section class="filtro-unico">
      <h2>Filtrar Publica√ß√µes</h2>
      <div class="filtro-container">
        <select id="criterio">
          <option value="">Selecione um crit√©rio</option>
          <option value="palavra">Palavra-chave</option>
          <option value="tipo">Tipo de publica√ß√£o</option>
          <option value="ano">Ano de publica√ß√£o</option>
        </select>
        <button id="btnFiltrar">Filtrar</button>
        <button id="btnLimpar">Limpar</button>
      </div>
=======
      <img src="../imagens/Header/Inpe.png" id="Inpeheader">
    </nav>
  </header>

  <div id="imagemFundo">Publica√ß√µes</div>

  <!-- Barra de pesquisa e filtros -->
  <section class="pesquisa">
    <h2 class="titulo-academico">Acompanhe nossos trabalhos acad√™micos</h2>
    <div class="pesquisa2">
      <input type="text" placeholder="Pesquise">
      <button class="search-btn" aria-label="Pesquisar">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="black" stroke-linecap="round"
          stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </button>
    </div>
  </section>
  <section class="filtro-unico">
    <h2>Filtrar Publica√ß√µes</h2>
    <div class="filtro-container">
      <select id="criterio">
        <option value="">Selecione um crit√©rio</option>
        <option value="palavra">Palavra-chave</option>
        <option value="tipo">Tipo de publica√ß√£o</option>
        <option value="ano">Ano de publica√ß√£o</option>
      </select>
      <button id="btnFiltrar">Filtrar</button>
      <button id="btnLimpar">Limpar</button>
    </div>
  </section>

  <!-- üîπ CRUD Din√¢mico (movido para ficar entre filtros e lista de publica√ß√µes) -->
  <section class="crud-publicacoes">
    <h2>Gerenciar Publica√ß√µes (CRUD)</h2>

    <ul id="lista"></ul>

    <!-- Formul√°rio para adicionar -->
    <form id="formAdd">
      <input type="text" id="titulo" placeholder="T√≠tulo" required>
      <input type="text" id="descricao" placeholder="Descri√ß√£o" required>
      <input type="url" id="imagem_url" placeholder="URL da imagem (imagem_url)">
      <input type="url" id="pdf_url" placeholder="URL do PDF (pdf_url)">
      <input type="url" id="citacao_url" placeholder="URL da cita√ß√£o (citacao_url)">
      <input type="url" id="doi_url" placeholder="URL DOI (doi_url)">
      <button type="submit">Adicionar</button>
    </form>

    <!-- Lista din√¢mica -->
  </section>

  <!-- Lista de publica√ß√µes -->
  <main>
    <!-- substitui os artigos est√°ticos por um container que ser√° preenchido dinamicamente -->
    <section class="lista-publicacoes" id="publicacoes-container">
      <!-- cards ser√£o inseridos aqui dinamicamente -->
>>>>>>> main
    </section>

    <!-- Lista de publica√ß√µes -->
    <main>
      <section class="lista-publicacoes">
        <article class="publicacao">
          <img src="../imagens/Publicacoes/pb01.png" alt="Publica√ß√£o 1" />
          <h3>
            Compara√ß√£o de Modelos Globais para Mapeamento da Cobertura do Solo
          </h3>
          <p>
            Estudo comparativo entre tr√™s bases globais de dados revela
            diferen√ßas na classifica√ß√£o da cobertura do solo na Mata Atl√¢ntica
            entre 2011 e 2021, destacando a import√¢ncia de ajustes regionais
            para melhorar a precis√£o dos modelos.
          </p>
          <div class="botoes">
            <a href="pb01.pdf" target="_blank">PDF</a>
            <a href="pb01_citacao.txt" target="_blank">Cita√ß√£o</a>
            <a href="https://doi.org/xxxx/pb01" target="_blank">DOI</a>
          </div>
        </article>

        <article class="publicacao">
          <img src="../imagens/Publicacoes/pb02.jpg" alt="Publica√ß√£o 2" />
          <h3>
            Mapeamento de Tra√ßos Funcionais Florestais na Mata Atl√¢ntica via
            Sat√©lite
          </h3>
          <p>
            Utilizando sensores remotos, o trabalho mapeia caracter√≠sticas
            funcionais da vegeta√ß√£o nativa em √°reas de transi√ß√£o com o Cerrado,
            contribuindo para a√ß√µes de conserva√ß√£o e restaura√ß√£o ecol√≥gica.
          </p>
          <div class="botoes">
            <a href="pb02.pdf" target="_blank">PDF</a>
            <a href="pb02_citacao.txt" target="_blank">Cita√ß√£o</a>
            <a href="https://doi.org/xxxx/pb02" target="_blank">DOI</a>
          </div>
        </article>

        <article class="publicacao">
          <img src="../imagens/Publicacoes/pb03.png" alt="Publica√ß√£o 3" />
          <h3>
            Classificadores e Correla√ß√£o Espacial em Modelagem de Uso da Terra
          </h3>
          <p>
            A pesquisa aplica algoritmos de classifica√ß√£o e an√°lise espacial
            para identificar padr√µes de uso da terra, mostrando como a
            correla√ß√£o local melhora a precis√£o dos modelos de ocupa√ß√£o
            territorial.
          </p>
          <div class="botoes">
            <a href="pb03.pdf" target="_blank">PDF</a>
            <a href="pb03_citacao.txt" target="_blank">Cita√ß√£o</a>
            <a href="https://doi.org/xxxx/pb03" target="_blank">DOI</a>
          </div>
        </article>

        <article class="publicacao">
          <img src="../imagens/Publicacoes/pb04.png" alt="Publica√ß√£o 4" />
          <h3>
            Modelos Estat√≠sticos para Estimativa de Biomassa na Mata Atl√¢ntica
          </h3>
          <p>
            Modelos multivariados baseados em dados de campo e imagens de
            sat√©lite s√£o usados para estimar biomassa a√©rea, oferecendo suporte
            ao monitoramento de carbono e √† gest√£o de servi√ßos ecossist√™micos.
          </p>
          <div class="botoes">
            <a href="pb04.pdf" target="_blank">PDF</a>
            <a href="pb04_citacao.txt" target="_blank">Cita√ß√£o</a>
            <a href="https://doi.org/xxxx/pb04" target="_blank">DOI</a>
          </div>
        </article>

        <article class="publicacao">
          <img src="../imagens/Publicacoes/pb05.jpeg" alt="Publica√ß√£o 5" />
          <h3>
            Sensoriamento Remoto de Tra√ßos Funcionais de Plantas: Estado Atual e
            Futuro
          </h3>
          <p>
            O estudo utiliza NDVI e imagens de sat√©lite para monitorar o
            crescimento de pastagens entre 2015 e 2019, destacando o potencial
            do sensoriamento remoto na an√°lise funcional da vegeta√ß√£o e
            apontando avan√ßos futuros com sensores hiperespectrais.
          </p>
          <div class="botoes">
            <a href="pb05.pdf" target="_blank">PDF</a>
            <a href="pb05_citacao.txt" target="_blank">Cita√ß√£o</a>
            <a href="https://doi.org/xxxx/pb05" target="_blank">DOI</a>
          </div>
        </article>

        <article class="publicacao">
          <img src="../imagens/Publicacoes/pb06.png" alt="Publica√ß√£o 6" />
          <h3>
            Detec√ß√£o Global de Manguezais com Abordagem Baseada em Sensoriamento
            Remoto
          </h3>
          <p>
            Mapas e amostras bin√°rias revelam padr√µes de desmatamento na
            Amaz√¥nia brasileira.
          </p>
          <div class="botoes">
            <a href="pb06.pdf" target="_blank">PDF</a>
            <a href="pb06_citacao.txt" target="_blank">Cita√ß√£o</a>
            <a href="https://doi.org/xxxx/pb06" target="_blank">DOI</a>
          </div>
        </article>
        <article class="publicacao">
          <img src="../imagens/Publicacoes/pb07.jpg" alt="Publica√ß√£o 7" />
          <h3>
            Estimativa de Biomassa Arb√≥rea com Dados de Invent√°rio Florestal
          </h3>
          <p>
            Modelos de aprendizado de m√°quina aplicados a dados de sensoriamento
            remoto permitem extrair m√©tricas fenol√≥gicas como SOS, POS, EOS e
            LOS, revelando padr√µes sazonais de uso agr√≠cola no Matopiba.
          </p>
          <div class="botoes">
            <a href="pb07.pdf" target="_blank">PDF</a>
            <a href="pb07_citacao.txt" target="_blank">Cita√ß√£o</a>
            <a href="https://doi.org/xxxx/pb07" target="_blank">DOI</a>
          </div>
        </article>

        <article class="publicacao">
          <img src="../imagens/Publicacoes/pb08.png" alt="Publica√ß√£o 8" />
          <h3>
            Mapeamento Global de Carbono Vegetal com Imagens de Sat√©lite e
            Aprendizado de M√°quina
          </h3>
          <p>
            Mapa global de produ√ß√£o de cana-de-a√ß√∫car em 2021 revela os
            principais pa√≠ses produtores e sua relev√¢ncia cient√≠fica,
            relacionando volume agr√≠cola com n√∫mero de publica√ß√µes acad√™micas
            por regi√£o.
          </p>
          <div class="botoes">
            <a href="pb08.pdf" target="_blank">PDF</a>
            <a href="pb08_citacao.txt" target="_blank">Cita√ß√£o</a>
            <a href="https://doi.org/xxxx/pb08" target="_blank">DOI</a>
          </div>
        </article>
      </section>
    </main>

    <footer>
      <div id="footer-brasil"></div>
      <block>
        <div id="divOne">
          <div id="apareceNoFooter">
            <a title="AgriRSlab" href="index.html"><img src="../imagens/Footer/AgriRSlab.png" id="AgriRSfooter" alt="AgriRSlab"/></a>
            <div class="titulo24" id="aparece">AgriRSlab</div>
          </div>
          <div id="textolado">
            <div class="titulo24" id="apaga">AgriRSlab</div>
            <div class="texto16">
              Laborat√≥rio de Sensoriamento Remoto Agr√≠cola
            </div>
          </div>
        </div>

        <div id="divTwo">
          <div>
            <img
              id="iconeMapa"
              src="../imagens/Footer/iconeMapa.png"
              alt="Mapa"
            />
            <span class="texto16"
              >Av. dos Astronautos, 1,758 - S√£o Jos√© dos Campos - SP,
              12227-010</span
            >
          </div>
          <div>
            <img
              id="iconeTelefone"
              src="../imagens/Footer/iconeTelefone.png"
              alt="Telefone"
            />
            <span class="texto16">+55 (12) 3208-6000</span>
          </div>
        </div>

        <div id="redesSociais">
          <a
            target="_blank"
            title="X/Twitter"
            href="https://x.com/agrirs_lab?lang=pt"
          >
            <img src="../imagens/Footer/xIcone.png" alt="X/Twitter" />
          </a>
          <a
            target="_blank"
            title="LinkedIn"
            href="https://www.linkedin.com/company/agrirslab"
          >
            <img src="../imagens/Footer/linkedinIcone.png" alt="LinkedIn" />
          </a>
          <a target="_blank" title="GitHub" href="https://github.com/agrirslab">
            <img src="../imagens/Footer/githubIcone.png" alt="GitHub" />
          </a>
          <a
            target="_blank"
            title="ResearchGate"
            href="https://www.researchgate.net/lab/AgriRS-Lab-Ieda-Sanches"
          >
            <img
              src="../imagens/Footer/researchGateIcone.png"
              alt="ResearchGate"
            />
          </a>
        </div>
      </block>

      <div class="foraLinha">
        <div class="linha"></div>
      </div>

      <block>
        <div id="divThree">
          <div class="titulo24">Sobre</div>
          <ul class="texto16">
              <li><a target="_blank" href="Sobre.html">O AgriRSlab</a></li>
              <li><a target="_blank" href="membros.html">Nossa equipe</a></li>
              <li><a target="_blank" href="membros.html">Colaboradores</a></li>
              <li><a target="_blank" href="vagas.html">Oportunidades</a></li>
          </ul>
      </div>
  </block>

  <div class="foraLinha">
      <div class="linha"></div>
  </div>

  <block>
      <div id="divFour">
          <div class="titulo24">Atua√ß√£o</div>
          <ul class="texto16">
              <li><a target="_blank" href="publicacoes.html">√Årea de Pesquisa</a></li>
              <li><a target="_blank" href="projetos.html">Projetos</a></li>
              <li><a target="_blank" href="contato.html">Servi√ßos</a></li>
              <li><a target="_blank" href="Sobre.html">Parcerias</a></li>
          </ul>
      </div>
  </block>

      <div class="foraLinha">
        <div class="linha"></div>
      </div>

      <block>
        <div id="divFive">
          <div class="titulo24">Colaboradores</div>
          <div>
            <a
              target="_blank"
              title="Inpe"
              href="https://www.gov.br/inpe/pt-br"
            >
              <img
                src="../imagens/Footer/Inpe.png"
                id="InpeFooter"
                alt="Inpe"
              />
            </a>
            <a target="_blank" title="FAPESP" href="https://fapesp.br">
              <img
                src="../imagens/Footer/FAPESP.png"
                id="FapespFooter"
                alt="FAPESP"
              />
            </a>
            <a
              target="_blank"
              title="Brazil Data Cube"
              href="https://data.inpe.br/bdc"
            >
              <img
                src="../imagens/Footer/Bdc.png"
                id="BdcFooter"
                alt="Brasil Data Cube"
              />
            </a>
          </div>
          <div id="colaboradores2">
            <a
              target="_blank"
              title="CAPES"
              href="https://www.gov.br/capes/pt-br"
            >
              <img
                src="../imagens/Footer/CAPES.png"
                id="CapesFooter"
                alt="CAPES"
              />
            </a>
            <a
              target="_blank"
              title="CNPq"
              href="https://www.gov.br/cnpq/pt-br"
            >
              <img
                src="../imagens/Footer/CNPq.png"
                id="CnpqFooter"
                alt="CNPq"
              />
            </a>
            <a
              target="_blank"
              title="Conab"
              href="https://www.gov.br/conab/pt-br"
            >
              <img
                src="../imagens/Footer/Conab.png"
                id="ConabFooter"
                alt="Conab"
              />
            </a>
          </div>
        </div>
      </block>
    </footer>

    <script>
      const criterio = document.getElementById("criterio");
      const btnFiltrar = document.getElementById("btnFiltrar");
      const btnLimpar = document.getElementById("btnLimpar");

      btnFiltrar.addEventListener("click", () => {
        if (criterio.value) {
          alert(`Filtrando publica√ß√µes por: ${criterio.value}`);
        } else {
          alert("Selecione um crit√©rio para filtrar.");
        }
      });

<<<<<<< HEAD
      btnLimpar.addEventListener("click", () => {
        criterio.value = "";
        alert("Filtros limpos!");
      });

      /* üîπ SCRIPT DO MENU HAMBURGUER */
      const toggle = document.getElementById("menu-toggle");
      const navLinks = document.getElementById("nav-links");
      const navItems = document.querySelectorAll("#nav-links a");

      toggle.addEventListener("click", () => {
        navLinks.classList.toggle("ativo");
      });

      // Fecha o menu ao clicar em um link (melhor UX)
      navItems.forEach((item) => {
        item.addEventListener("click", () => {
          navLinks.classList.remove("ativo");
        });
      });
    </script>

    <script
      defer
      src="https://barra.brasil.gov.br/barra.js"
      type="text/javascript"
    ></script>
  </body>
</html>
"<!-- AtualizaÔøΩÔøΩo de layout -->"
=======
  <script>
    // Script do CRUD + render dos cards principais
    const API = "http://localhost:3030/publicacao";
    let PUBLICACOES = {}; // mapa local id -> objeto pub

    function formatDate(v) {
      if (!v) return "-";
      const d = new Date(v);
      if (isNaN(d)) return v;
      return d.toLocaleString('pt-BR');
    }

    // Renderiza os cards na √°rea principal usando a mesma estiliza√ß√£o (.publicacao)
    function renderPublicacoesCards() {
      const container = document.getElementById("publicacoes-container");
      container.innerHTML = "";
      const pubs = Object.values(PUBLICACOES);
      if (!pubs || pubs.length === 0) {
        container.innerHTML = '<p class="mensagem">Nenhuma publica√ß√£o dispon√≠vel.</p>';
        return;
      }

      pubs.forEach(pub => {
        const art = document.createElement("article");
        // mant√©m classe publicacao para usar CSS existente e adiciona card para filtro/exemplo
        art.className = "publicacao card";
        art.innerHTML = `
          <img src="${pub.imagem_url || '../imagens/Publicacoes/pb01.png'}" alt="${(pub.titulo || '').replace(/"/g,'')}" />
          <h3>${pub.titulo || ''}</h3>
          <p>${pub.descricao || ''}</p>
          <div class="botoes">
            ${pub.pdf_url ? `<a href="${pub.pdf_url}" target="_blank" rel="noopener">PDF</a>` : ''}
            ${pub.citacao_url ? `<a href="${pub.citacao_url}" target="_blank" rel="noopener">Cita√ß√£o</a>` : ''}
            ${pub.doi_url ? `<a href="${pub.doi_url}" target="_blank" rel="noopener">DOI</a>` : ''}
          </div>
          <small class="timestamps">Criado: ${formatDate(pub.criado_em)} ‚Ä¢ Atualizado: ${formatDate(pub.atualizado_em)}</small>
        `;
        container.appendChild(art);

        // guarda display original para permitir filtro por termo
        art.dataset.displayOriginal = getComputedStyle(art).display || "block";
      });
    }

    // Carregar lista (CRUD) e tamb√©m repopular os cards principais
    function carregar() {
      fetch(API)
        .then(r => r.json())
        .then(data => {
          const lista = document.getElementById("lista");
          lista.innerHTML = "";
          PUBLICACOES = {};
          data.forEach(pub => {
            PUBLICACOES[pub.idpublicacao] = pub;
            const li = document.createElement("li");
            li.innerHTML = `
              <img class="item-thumb" src="${pub.imagem_url || '../imagens/Publicacoes/pb01.png'}" alt="${(pub.titulo||'').replace(/"/g,'')}" />
              <div class="item-text">
                <b>${pub.titulo}</b> - <span class="descricao">${pub.descricao}</span>
                <div class="item-links">
                  ${pub.pdf_url ? `<a href="${pub.pdf_url}" target="_blank" rel="noopener">PDF</a>` : ''}
                  ${pub.citacao_url ? `<a href="${pub.citacao_url}" target="_blank" rel="noopener">Cita√ß√£o</a>` : ''}
                  ${pub.doi_url ? `<a href="${pub.doi_url}" target="_blank" rel="noopener">DOI</a>` : ''}
                </div>
                <small class="timestamps">Criado: ${formatDate(pub.criado_em)} ‚Ä¢ Atualizado: ${formatDate(pub.atualizado_em)}</small>
              </div>
              <div class="crud-actions">
                <button class="btn-edit" onclick="editar(${pub.idpublicacao})">Editar</button>
                <button class="btn-delete" onclick="excluir(${pub.idpublicacao})">Excluir</button>
              </div>
            `;
            lista.appendChild(li);
          });

          renderPublicacoesCards();
        })
        .catch(err => {
          console.error('Erro ao carregar publica√ß√µes:', err);
          document.getElementById("lista").innerHTML = '<li class="mensagem">Erro ao carregar publica√ß√µes.</li>';
          document.getElementById("publicacoes-container").innerHTML = '<p class="mensagem">Erro ao carregar publica√ß√µes.</p>';
        });
    }

    // Adicionar
    document.getElementById("formAdd").addEventListener("submit", e => {
      e.preventDefault();
      const titulo = document.getElementById("titulo").value;
      const descricao = document.getElementById("descricao").value;
      const imagem_url = document.getElementById("imagem_url").value;
      const pdf_url = document.getElementById("pdf_url").value;
      const citacao_url = document.getElementById("citacao_url").value;
      const doi_url = document.getElementById("doi_url").value;

      fetch(API, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({titulo, descricao, imagem_url, pdf_url, citacao_url, doi_url})
      }).then(() => {
        document.getElementById("formAdd").reset();
        carregar();
      }).catch(err => console.error('Erro ao adicionar publica√ß√£o:', err));
    });

    // Editar (usa PUBLICACOES para pr√©-preencher)
    function editar(id) {
      const cur = PUBLICACOES[id];
      if (!cur) return alert('Publica√ß√£o n√£o encontrada para editar.');
      const novoTitulo = prompt("Novo t√≠tulo:", cur.titulo || "");
      if (novoTitulo === null) return;
      const novaDescricao = prompt("Nova descri√ß√£o:", cur.descricao || "");
      if (novaDescricao === null) return;
      const novaImagem = prompt("URL da imagem (imagem_url):", cur.imagem_url || "");
      if (novaImagem === null) return;
      const novoPdf = prompt("URL do PDF (pdf_url):", cur.pdf_url || "");
      if (novoPdf === null) return;
      const novaCitacao = prompt("URL da cita√ß√£o (citacao_url):", cur.citacao_url || "");
      if (novaCitacao === null) return;
      const novoDoi = prompt("URL DOI (doi_url):", cur.doi_url || "");
      if (novoDoi === null) return;

      fetch(`${API}/${id}`, {
        method: "PUT",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
          titulo: novoTitulo,
          descricao: novaDescricao,
          imagem_url: novaImagem,
          pdf_url: novoPdf,
          citacao_url: novaCitacao,
          doi_url: novoDoi
        })
      }).then(() => carregar())
        .catch(err => console.error('Erro ao editar publica√ß√£o:', err));
    }

    // Excluir
    function excluir(id) {
      if (!confirm('Confirma exclus√£o?')) return;
      fetch(`${API}/${id}`, { method: "DELETE" })
        .then(() => carregar())
        .catch(err => console.error('Erro ao excluir publica√ß√£o:', err));
    }

    // filtro de busca para os cards principais
    document.addEventListener("DOMContentLoaded", function () {
      const searchInput = document.querySelector(".pesquisa2 input");
      searchInput.addEventListener("input", function () {
        const termo = searchInput.value.toLowerCase().trim();
        const cards = document.querySelectorAll(".lista-publicacoes .card");
        cards.forEach(card => {
          const displayOriginal = card.dataset.displayOriginal || "block";
          const textoCard = card.textContent.toLowerCase();
          if (termo === "" || textoCard.includes(termo)) {
            card.style.display = displayOriginal;
          } else {
            card.style.display = "none";
          }
        });
      });
    });

    carregar();
  </script>

  <script defer src="https://barra.brasil.gov.br/barra.js" type="text/javascript"></script>
</body>

</html>
>>>>>>> main
